<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Profile - Login</title>
	<link rel="stylesheet" href="login-style.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
	<div class="header">
		<i class="fas fa-arrow-left header-icon"></i>
		<h1 class="header-title">Profile</h1>
	</div>

	<main class="profile-content">
		<div class="avatar-container">
			<div class="avatar-circle">
				<i class="fas fa-user avatar-icon"></i>
			</div>
		</div>

		<p class="login-message">
			Login to TU Compass with TU account
		</p>
		<p class="function-message">
			for <span class="bold">more function!</span>
		</p>

		<form class="login-form">
			<input type="text" placeholder="Email / Student ID" class="input-field">
			<input type="password" placeholder="Password" class="input-field">

			<button type="button" class="sign-in-button" onclick="navigateToProfile()">
				Sign in
			</button>
		</form>

		<a href="#" class="guest-link">Use for guest</a>
	</main>

	<footer class="footer-nav">
		<div class="nav-item">
			<i class="fas fa-home"></i>
			<span class="nav-label">Home</span>
		</div>
		<div class="nav-item">
			<i class="fas fa-bookmark"></i>
			<span class="nav-label">Favorites</span>
		</div>
		<div class="nav-item active">
			<i class="fas fa-user"></i>
			<span class="nav-label">Profile</span>
		</div>
	</footer>

	<script>
		function navigateToProfile() {
			// สั่งให้เบราว์เซอร์เปลี่ยนไปโหลดไฟล์ profile_logged_in.html
			window.location.href = 'profile_logged_in.html';
		}
	</script>
	<div id="successModal" class="modal-overlay">
		<div class="modal-content">
			<div class="modal-icon-success">
				<i class="fas fa-check"></i>
			</div>
			<p class="modal-message">Logged in successfully</p>
			<button class="modal-button" onclick="handleSuccessContinue()">Continue</button>
		</div>
	</div>

	<div id="failedModal" class="modal-overlay">
		<div class="modal-content">
			<div class="modal-icon-failed">
				<i class="fas fa-times"></i>
			</div>
			<p class="modal-message">Logged in failed</p>
			<p class="modal-subtitle">Email / Student ID or password is incorrect</p>
			<button class="modal-button" onclick="handleFailedContinue()">Continue</button>
		</div>
	</div>


	<script>
		const successModal = document.getElementById('successModal');
		const failedModal = document.getElementById('failedModal');

		// ฟังก์ชันที่ถูกเรียกเมื่อกดปุ่ม "Sign in"
		function navigateToProfile() {
			// *** ในการจำลองนี้ เราจะสุ่มผลลัพธ์: 70% Success, 30% Failed ***
			const isSuccess = Math.random() < 0.7;

			if (isSuccess) {
				successModal.style.display = 'flex';
			} else {
				failedModal.style.display = 'flex';
			}
		}

		// ฟังก์ชันที่ถูกเรียกเมื่อกด "Continue" ใน Popup SUCCESS
		function handleSuccessContinue() {
			// ซ่อน Modal
			successModal.style.display = 'none';
			// เปลี่ยนหน้าไปยัง Profile ที่เข้าสู่ระบบแล้ว
			window.location.href = 'profile_logged_in.html';
		}

		// ฟังก์ชันที่ถูกเรียกเมื่อกด "Continue" ใน Popup FAILED
		function handleFailedContinue() {
			// ซ่อน Modal
			failedModal.style.display = 'none';
			// ผู้ใช้ยังคงอยู่ที่หน้า Login เดิม
		}
	</script>
</body>

</html>